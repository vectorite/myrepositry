/*
	Copyright (c) 2004-2010, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

/*
	This is an optimized version of Dojo, built for deployment and not for
	development. To get sources and documentation, please visit:

		http://dojotoolkit.org
*/

if(!dojo._hasResource["dojo.window"]){dojo._hasResource["dojo.window"]=true;dojo.provide("dojo.window");dojo.window.getBox=function(){var _1=(dojo.doc.compatMode=="BackCompat")?dojo.body():dojo.doc.documentElement;var _2=dojo._docScroll();return {w:_1.clientWidth,h:_1.clientHeight,l:_2.x,t:_2.y};};dojo.window.get=function(_3){if(dojo.isIE&&window!==document.parentWindow){_3.parentWindow.execScript("document._parentWindow = window;","Javascript");var _4=_3._parentWindow;_3._parentWindow=null;return _4;}return _3.parentWindow||_3.defaultView;};dojo.window.scrollIntoView=function(_5,_6){try{_5=dojo.byId(_5);var _7=_5.ownerDocument||dojo.doc,_8=_7.body||dojo.body(),_9=_7.documentElement||_8.parentNode,_a=dojo.isIE,_b=dojo.isWebKit;if((!(dojo.isMoz||_a||_b||dojo.isOpera)||_5==_8||_5==_9)&&(typeof _5.scrollIntoView!="undefined")){_5.scrollIntoView(false);return;}var _c=_7.compatMode=="BackCompat",_d=_c?_8:_9,_e=_b?_8:_d,_f=_d.clientWidth,_10=_d.clientHeight,rtl=!dojo._isBodyLtr(),_11=_6||dojo.position(_5),el=_5.parentNode,_12=function(el){return ((_a<=6||(_a&&_c))?false:(dojo.style(el,"position").toLowerCase()=="fixed"));};if(_12(_5)){return;}while(el){if(el==_8){el=_e;}var _13=dojo.position(el),_14=_12(el);if(el==_e){_13.w=_f;_13.h=_10;if(_e==_9&&_a&&rtl){_13.x+=_e.offsetWidth-_13.w;}if(_13.x<0||!_a){_13.x=0;}if(_13.y<0||!_a){_13.y=0;}}else{var pb=dojo._getPadBorderExtents(el);_13.w-=pb.w;_13.h-=pb.h;_13.x+=pb.l;_13.y+=pb.t;}if(el!=_e){var _15=el.clientWidth,_16=_13.w-_15;if(_15>0&&_16>0){_13.w=_15;if(_a&&rtl){_13.x+=_16;}}_15=el.clientHeight;_16=_13.h-_15;if(_15>0&&_16>0){_13.h=_15;}}if(_14){if(_13.y<0){_13.h+=_13.y;_13.y=0;}if(_13.x<0){_13.w+=_13.x;_13.x=0;}if(_13.y+_13.h>_10){_13.h=_10-_13.y;}if(_13.x+_13.w>_f){_13.w=_f-_13.x;}}var l=_11.x-_13.x,t=_11.y-Math.max(_13.y,0),r=l+_11.w-_13.w,bot=t+_11.h-_13.h;if(r*l>0){var s=Math[l<0?"max":"min"](l,r);_11.x+=el.scrollLeft;el.scrollLeft+=(_a>=8&&!_c&&rtl)?-s:s;_11.x-=el.scrollLeft;}if(bot*t>0){_11.y+=el.scrollTop;el.scrollTop+=Math[t<0?"max":"min"](t,bot);_11.y-=el.scrollTop;}el=(el!=_e)&&!_14&&el.parentNode;}}catch(error){console.error("scrollIntoView: "+error);_5.scrollIntoView(false);}};}if(!dojo._hasResource["dijit._base.manager"]){dojo._hasResource["dijit._base.manager"]=true;dojo.provide("dijit._base.manager");dojo.declare("dijit.WidgetSet",null,{constructor:function(){this._hash={};this.length=0;},add:function(_17){if(this._hash[_17.id]){throw new Error("Tried to register widget with id=="+_17.id+" but that id is already registered");}this._hash[_17.id]=_17;this.length++;},remove:function(id){if(this._hash[id]){delete this._hash[id];this.length--;}},forEach:function(_18,_19){_19=_19||dojo.global;var i=0,id;for(id in this._hash){_18.call(_19,this._hash[id],i++,this._hash);}return this;},filter:function(_1a,_1b){_1b=_1b||dojo.global;var res=new dijit.WidgetSet(),i=0,id;for(id in this._hash){var w=this._hash[id];if(_1a.call(_1b,w,i++,this._hash)){res.add(w);}}return res;},byId:function(id){return this._hash[id];},byClass:function(cls){var res=new dijit.WidgetSet(),id,_1c;for(id in this._hash){_1c=this._hash[id];if(_1c.declaredClass==cls){res.add(_1c);}}return res;},toArray:function(){var ar=[];for(var id in this._hash){ar.push(this._hash[id]);}return ar;},map:function(_1d,_1e){return dojo.map(this.toArray(),_1d,_1e);},every:function(_1f,_20){_20=_20||dojo.global;var x=0,i;for(i in this._hash){if(!_1f.call(_20,this._hash[i],x++,this._hash)){return false;}}return true;},some:function(_21,_22){_22=_22||dojo.global;var x=0,i;for(i in this._hash){if(_21.call(_22,this._hash[i],x++,this._hash)){return true;}}return false;}});(function(){dijit.registry=new dijit.WidgetSet();var _23=dijit.registry._hash,_24=dojo.attr,_25=dojo.hasAttr,_26=dojo.style;dijit.byId=function(id){return typeof id=="string"?_23[id]:id;};var _27={};dijit.getUniqueId=function(_28){var id;do{id=_28+"_"+(_28 in _27?++_27[_28]:_27[_28]=0);}while(_23[id]);return dijit._scopeName=="dijit"?id:dijit._scopeName+"_"+id;};dijit.findWidgets=function(_29){var _2a=[];function _2b(_2c){for(var _2d=_2c.firstChild;_2d;_2d=_2d.nextSibling){if(_2d.nodeType==1){var _2e=_2d.getAttribute("widgetId");if(_2e){_2a.push(_23[_2e]);}else{_2b(_2d);}}}};_2b(_29);return _2a;};dijit._destroyAll=function(){dijit._curFocus=null;dijit._prevFocus=null;dijit._activeStack=[];dojo.forEach(dijit.findWidgets(dojo.body()),function(_2f){if(!_2f._destroyed){if(_2f.destroyRecursive){_2f.destroyRecursive();}else{if(_2f.destroy){_2f.destroy();}}}});};if(dojo.isIE){dojo.addOnWindowUnload(function(){dijit._destroyAll();});}dijit.byNode=function(_30){return _23[_30.getAttribute("widgetId")];};dijit.getEnclosingWidget=function(_31){while(_31){var id=_31.getAttribute&&_31.getAttribute("widgetId");if(id){return _23[id];}_31=_31.parentNode;}return null;};var _32=(dijit._isElementShown=function(_33){var s=_26(_33);return (s.visibility!="hidden")&&(s.visibility!="collapsed")&&(s.display!="none")&&(_24(_33,"type")!="hidden");});dijit.hasDefaultTabStop=function(_34){switch(_34.nodeName.toLowerCase()){case "a":return _25(_34,"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return true;case "iframe":if(dojo.isMoz){try{return _34.contentDocument.designMode=="on";}catch(err){return false;}}else{if(dojo.isWebKit){var doc=_34.contentDocument,_35=doc&&doc.body;return _35&&_35.contentEditable=="true";}else{try{doc=_34.contentWindow.document;_35=doc&&doc.body;return _35&&_35.firstChild&&_35.firstChild.contentEditable=="true";}catch(e){return false;}}}default:return _34.contentEditable=="true";}};var _36=(dijit.isTabNavigable=function(_37){if(_24(_37,"disabled")){return false;}else{if(_25(_37,"tabIndex")){return _24(_37,"tabIndex")>=0;}else{return dijit.hasDefaultTabStop(_37);}}});dijit._getTabNavigable=function(_38){var _39,_3a,_3b,_3c,_3d,_3e;var _3f=function(_40){dojo.query("> *",_40).forEach(function(_41){if((dojo.isIE&&_41.scopeName!=="HTML")||!_32(_41)){return;}if(_36(_41)){var _42=_24(_41,"tabIndex");if(!_25(_41,"tabIndex")||_42==0){if(!_39){_39=_41;}_3a=_41;}else{if(_42>0){if(!_3b||_42<_3c){_3c=_42;_3b=_41;}if(!_3d||_42>=_3e){_3e=_42;_3d=_41;}}}}if(_41.nodeName.toUpperCase()!="SELECT"){_3f(_41);}});};if(_32(_38)){_3f(_38);}return {first:_39,last:_3a,lowest:_3b,highest:_3d};};dijit.getFirstInTabbingOrder=function(_43){var _44=dijit._getTabNavigable(dojo.byId(_43));return _44.lowest?_44.lowest:_44.first;};dijit.getLastInTabbingOrder=function(_45){var _46=dijit._getTabNavigable(dojo.byId(_45));return _46.last?_46.last:_46.highest;};dijit.defaultDuration=dojo.config["defaultDuration"]||200;})();}if(!dojo._hasResource["dijit._base.focus"]){dojo._hasResource["dijit._base.focus"]=true;dojo.provide("dijit._base.focus");dojo.mixin(dijit,{_curFocus:null,_prevFocus:null,isCollapsed:function(){return dijit.getBookmark().isCollapsed;},getBookmark:function(){var bm,rg,tg,sel=dojo.doc.selection,cf=dijit._curFocus;if(dojo.global.getSelection){sel=dojo.global.getSelection();if(sel){if(sel.isCollapsed){tg=cf?cf.tagName:"";if(tg){tg=tg.toLowerCase();if(tg=="textarea"||(tg=="input"&&(!cf.type||cf.type.toLowerCase()=="text"))){sel={start:cf.selectionStart,end:cf.selectionEnd,node:cf,pRange:true};return {isCollapsed:(sel.end<=sel.start),mark:sel};}}bm={isCollapsed:true};}else{rg=sel.getRangeAt(0);bm={isCollapsed:false,mark:rg.cloneRange()};}}}else{if(sel){tg=cf?cf.tagName:"";tg=tg.toLowerCase();if(cf&&tg&&(tg=="button"||tg=="textarea"||tg=="input")){if(sel.type&&sel.type.toLowerCase()=="none"){return {isCollapsed:true,mark:null};}else{rg=sel.createRange();return {isCollapsed:rg.text&&rg.text.length?false:true,mark:{range:rg,pRange:true}};}}bm={};try{rg=sel.createRange();bm.isCollapsed=!(sel.type=="Text"?rg.htmlText.length:rg.length);}catch(e){bm.isCollapsed=true;return bm;}if(sel.type.toUpperCase()=="CONTROL"){if(rg.length){bm.mark=[];var i=0,len=rg.length;while(i<len){bm.mark.push(rg.item(i++));}}else{bm.isCollapsed=true;bm.mark=null;}}else{bm.mark=rg.getBookmark();}}else{console.warn("No idea how to store the current selection for this browser!");}}return bm;},moveToBookmark:function(_47){var _48=dojo.doc,_49=_47.mark;if(_49){if(dojo.global.getSelection){var sel=dojo.global.getSelection();if(sel&&sel.removeAllRanges){if(_49.pRange){var r=_49;var n=r.node;n.selectionStart=r.start;n.selectionEnd=r.end;}else{sel.removeAllRanges();sel.addRange(_49);}}else{console.warn("No idea how to restore selection for this browser!");}}else{if(_48.selection&&_49){var rg;if(_49.pRange){rg=_49.range;}else{if(dojo.isArray(_49)){rg=_48.body.createControlRange();dojo.forEach(_49,function(n){rg.addElement(n);});}else{rg=_48.body.createTextRange();rg.moveToBookmark(_49);}}rg.select();}}}},getFocus:function(_4a,_4b){var _4c=!dijit._curFocus||(_4a&&dojo.isDescendant(dijit._curFocus,_4a.domNode))?dijit._prevFocus:dijit._curFocus;return {node:_4c,bookmark:(_4c==dijit._curFocus)&&dojo.withGlobal(_4b||dojo.global,dijit.getBookmark),openedForWindow:_4b};},focus:function(_4d){if(!_4d){return;}var _4e="node" in _4d?_4d.node:_4d,_4f=_4d.bookmark,_50=_4d.openedForWindow,_51=_4f?_4f.isCollapsed:false;if(_4e){var _52=(_4e.tagName.toLowerCase()=="iframe")?_4e.contentWindow:_4e;if(_52&&_52.focus){try{_52.focus();}catch(e){}}dijit._onFocusNode(_4e);}if(_4f&&dojo.withGlobal(_50||dojo.global,dijit.isCollapsed)&&!_51){if(_50){_50.focus();}try{dojo.withGlobal(_50||dojo.global,dijit.moveToBookmark,null,[_4f]);}catch(e2){}}},_activeStack:[],registerIframe:function(_53){return dijit.registerWin(_53.contentWindow,_53);},unregisterIframe:function(_54){dijit.unregisterWin(_54);},registerWin:function(_55,_56){var _57=function(evt){dijit._justMouseDowned=true;setTimeout(function(){dijit._justMouseDowned=false;},0);if(dojo.isIE&&evt&&evt.srcElement&&evt.srcElement.parentNode==null){return;}dijit._onTouchNode(_56||evt.target||evt.srcElement,"mouse");};var doc=dojo.isIE?_55.document.documentElement:_55.document;if(doc){if(dojo.isIE){doc.attachEvent("onmousedown",_57);var _58=function(evt){if(evt.srcElement.tagName.toLowerCase()!="#document"&&dijit.isTabNavigable(evt.srcElement)){dijit._onFocusNode(_56||evt.srcElement);}else{dijit._onTouchNode(_56||evt.srcElement);}};doc.attachEvent("onactivate",_58);var _59=function(evt){dijit._onBlurNode(_56||evt.srcElement);};doc.attachEvent("ondeactivate",_59);return function(){doc.detachEvent("onmousedown",_57);doc.detachEvent("onactivate",_58);doc.detachEvent("ondeactivate",_59);doc=null;};}else{doc.addEventListener("mousedown",_57,true);var _5a=function(evt){dijit._onFocusNode(_56||evt.target);};doc.addEventListener("focus",_5a,true);var _5b=function(evt){dijit._onBlurNode(_56||evt.target);};doc.addEventListener("blur",_5b,true);return function(){doc.removeEventListener("mousedown",_57,true);doc.removeEventListener("focus",_5a,true);doc.removeEventListener("blur",_5b,true);doc=null;};}}},unregisterWin:function(_5c){_5c&&_5c();},_onBlurNode:function(_5d){dijit._prevFocus=dijit._curFocus;dijit._curFocus=null;if(dijit._justMouseDowned){return;}if(dijit._clearActiveWidgetsTimer){clearTimeout(dijit._clearActiveWidgetsTimer);}dijit._clearActiveWidgetsTimer=setTimeout(function(){delete dijit._clearActiveWidgetsTimer;dijit._setStack([]);dijit._prevFocus=null;},100);},_onTouchNode:function(_5e,by){if(dijit._clearActiveWidgetsTimer){clearTimeout(dijit._clearActiveWidgetsTimer);delete dijit._clearActiveWidgetsTimer;}var _5f=[];try{while(_5e){var _60=dojo.attr(_5e,"dijitPopupParent");if(_60){_5e=dijit.byId(_60).domNode;}else{if(_5e.tagName&&_5e.tagName.toLowerCase()=="body"){if(_5e===dojo.body()){break;}_5e=dojo.window.get(_5e.ownerDocument).frameElement;}else{var id=_5e.getAttribute&&_5e.getAttribute("widgetId"),_61=id&&dijit.byId(id);if(_61&&!(by=="mouse"&&_61.get("disabled"))){_5f.unshift(id);}_5e=_5e.parentNode;}}}}catch(e){}dijit._setStack(_5f,by);},_onFocusNode:function(_62){if(!_62){return;}if(_62.nodeType==9){return;}dijit._onTouchNode(_62);if(_62==dijit._curFocus){return;}if(dijit._curFocus){dijit._prevFocus=dijit._curFocus;}dijit._curFocus=_62;dojo.publish("focusNode",[_62]);},_setStack:function(_63,by){var _64=dijit._activeStack;dijit._activeStack=_63;for(var _65=0;_65<Math.min(_64.length,_63.length);_65++){if(_64[_65]!=_63[_65]){break;}}var _66;for(var i=_64.length-1;i>=_65;i--){_66=dijit.byId(_64[i]);if(_66){_66._focused=false;_66._hasBeenBlurred=true;if(_66._onBlur){_66._onBlur(by);}dojo.publish("widgetBlur",[_66,by]);}}for(i=_65;i<_63.length;i++){_66=dijit.byId(_63[i]);if(_66){_66._focused=true;if(_66._onFocus){_66._onFocus(by);}dojo.publish("widgetFocus",[_66,by]);}}}});dojo.addOnLoad(function(){var _67=dijit.registerWin(window);if(dojo.isIE){dojo.addOnWindowUnload(function(){dijit.unregisterWin(_67);_67=null;});}});}if(!dojo._hasResource["dojo.AdapterRegistry"]){dojo._hasResource["dojo.AdapterRegistry"]=true;dojo.provide("dojo.AdapterRegistry");dojo.AdapterRegistry=function(_68){this.pairs=[];this.returnWrappers=_68||false;};dojo.extend(dojo.AdapterRegistry,{register:function(_69,_6a,_6b,_6c,_6d){this.pairs[((_6d)?"unshift":"push")]([_69,_6a,_6b,_6c]);},match:function(){for(var i=0;i<this.pairs.length;i++){var _6e=this.pairs[i];if(_6e[1].apply(this,arguments)){if((_6e[3])||(this.returnWrappers)){return _6e[2];}else{return _6e[2].apply(this,arguments);}}}throw new Error("No match found");},unregister:function(_6f){for(var i=0;i<this.pairs.length;i++){var _70=this.pairs[i];if(_70[0]==_6f){this.pairs.splice(i,1);return true;}}return false;}});}if(!dojo._hasResource["dijit._base.place"]){dojo._hasResource["dijit._base.place"]=true;dojo.provide("dijit._base.place");dijit.getViewport=function(){return dojo.window.getBox();};dijit.placeOnScreen=function(_71,pos,_72,_73){var _74=dojo.map(_72,function(_75){var c={corner:_75,pos:{x:pos.x,y:pos.y}};if(_73){c.pos.x+=_75.charAt(1)=="L"?_73.x:-_73.x;c.pos.y+=_75.charAt(0)=="T"?_73.y:-_73.y;}return c;});return dijit._place(_71,_74);};dijit._place=function(_76,_77,_78){var _79=dojo.window.getBox();if(!_76.parentNode||String(_76.parentNode.tagName).toLowerCase()!="body"){dojo.body().appendChild(_76);}var _7a=null;dojo.some(_77,function(_7b){var _7c=_7b.corner;var pos=_7b.pos;if(_78){_78(_76,_7b.aroundCorner,_7c);}var _7d=_76.style;var _7e=_7d.display;var _7f=_7d.visibility;_7d.visibility="hidden";_7d.display="";var mb=dojo.marginBox(_76);_7d.display=_7e;_7d.visibility=_7f;var _80=Math.max(_79.l,_7c.charAt(1)=="L"?pos.x:(pos.x-mb.w)),_81=Math.max(_79.t,_7c.charAt(0)=="T"?pos.y:(pos.y-mb.h)),_82=Math.min(_79.l+_79.w,_7c.charAt(1)=="L"?(_80+mb.w):pos.x),_83=Math.min(_79.t+_79.h,_7c.charAt(0)=="T"?(_81+mb.h):pos.y),_84=_82-_80,_85=_83-_81,_86=(mb.w-_84)+(mb.h-_85);if(_7a==null||_86<_7a.overflow){_7a={corner:_7c,aroundCorner:_7b.aroundCorner,x:_80,y:_81,w:_84,h:_85,overflow:_86};}return !_86;});_76.style.left=_7a.x+"px";_76.style.top=_7a.y+"px";if(_7a.overflow&&_78){_78(_76,_7a.aroundCorner,_7a.corner);}return _7a;};dijit.placeOnScreenAroundNode=function(_87,_88,_89,_8a){_88=dojo.byId(_88);var _8b=_88.style.display;_88.style.display="";var _8c=dojo.position(_88,true);_88.style.display=_8b;return dijit._placeOnScreenAroundRect(_87,_8c.x,_8c.y,_8c.w,_8c.h,_89,_8a);};dijit.placeOnScreenAroundRectangle=function(_8d,_8e,_8f,_90){return dijit._placeOnScreenAroundRect(_8d,_8e.x,_8e.y,_8e.width,_8e.height,_8f,_90);};dijit._placeOnScreenAroundRect=function(_91,x,y,_92,_93,_94,_95){var _96=[];for(var _97 in _94){_96.push({aroundCorner:_97,corner:_94[_97],pos:{x:x+(_97.charAt(1)=="L"?0:_92),y:y+(_97.charAt(0)=="T"?0:_93)}});}return dijit._place(_91,_96,_95);};dijit.placementRegistry=new dojo.AdapterRegistry();dijit.placementRegistry.register("node",function(n,x){return typeof x=="object"&&typeof x.offsetWidth!="undefined"&&typeof x.offsetHeight!="undefined";},dijit.placeOnScreenAroundNode);dijit.placementRegistry.register("rect",function(n,x){return typeof x=="object"&&"x" in x&&"y" in x&&"width" in x&&"height" in x;},dijit.placeOnScreenAroundRectangle);dijit.placeOnScreenAroundElement=function(_98,_99,_9a,_9b){return dijit.placementRegistry.match.apply(dijit.placementRegistry,arguments);};dijit.getPopupAroundAlignment=function(_9c,_9d){var _9e={};dojo.forEach(_9c,function(pos){switch(pos){case "after":_9e[_9d?"BR":"BL"]=_9d?"BL":"BR";break;case "before":_9e[_9d?"BL":"BR"]=_9d?"BR":"BL";break;case "below":_9e[_9d?"BL":"BR"]=_9d?"TL":"TR";_9e[_9d?"BR":"BL"]=_9d?"TR":"TL";break;case "above":default:_9e[_9d?"TL":"TR"]=_9d?"BL":"BR";_9e[_9d?"TR":"TL"]=_9d?"BR":"BL";break;}});return _9e;};}if(!dojo._hasResource["dijit._base.window"]){dojo._hasResource["dijit._base.window"]=true;dojo.provide("dijit._base.window");dijit.getDocumentWindow=function(doc){return dojo.window.get(doc);};}if(!dojo._hasResource["dijit._base.popup"]){dojo._hasResource["dijit._base.popup"]=true;dojo.provide("dijit._base.popup");dijit.popup={_stack:[],_beginZIndex:1000,_idGen:1,moveOffScreen:function(_9f){var _a0=_9f.parentNode;if(!_a0||!dojo.hasClass(_a0,"dijitPopup")){_a0=dojo.create("div",{"class":"dijitPopup",style:{visibility:"hidden",top:"-9999px"}},dojo.body());dijit.setWaiRole(_a0,"presentation");_a0.appendChild(_9f);}var s=_9f.style;s.display="";s.visibility="";s.position="";s.top="0px";dojo.style(_a0,{visibility:"hidden",top:"-9999px"});},getTopPopup:function(){var _a1=this._stack;for(var pi=_a1.length-1;pi>0&&_a1[pi].parent===_a1[pi-1].widget;pi--){}return _a1[pi];},open:function(_a2){var _a3=this._stack,_a4=_a2.popup,_a5=_a2.orient||((_a2.parent?_a2.parent.isLeftToRight():dojo._isBodyLtr())?{"BL":"TL","BR":"TR","TL":"BL","TR":"BR"}:{"BR":"TR","BL":"TL","TR":"BR","TL":"BL"}),_a6=_a2.around,id=(_a2.around&&_a2.around.id)?(_a2.around.id+"_dropdown"):("popup_"+this._idGen++);var _a7=_a4.domNode.parentNode;if(!_a7||!dojo.hasClass(_a7,"dijitPopup")){this.moveOffScreen(_a4.domNode);_a7=_a4.domNode.parentNode;}dojo.attr(_a7,{id:id,style:{zIndex:this._beginZIndex+_a3.length},"class":"dijitPopup "+(_a4.baseClass||_a4["class"]||"").split(" ")[0]+"Popup",dijitPopupParent:_a2.parent?_a2.parent.id:""});if(dojo.isIE||dojo.isMoz){var _a8=_a7.childNodes[1];if(!_a8){_a8=new dijit.BackgroundIframe(_a7);}}var _a9=_a6?dijit.placeOnScreenAroundElement(_a7,_a6,_a5,_a4.orient?dojo.hitch(_a4,"orient"):null):dijit.placeOnScreen(_a7,_a2,_a5=="R"?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],_a2.padding);_a7.style.visibility="visible";_a4.domNode.style.visibility="visible";var _aa=[];_aa.push(dojo.connect(_a7,"onkeypress",this,function(evt){if(evt.charOrCode==dojo.keys.ESCAPE&&_a2.onCancel){dojo.stopEvent(evt);_a2.onCancel();}else{if(evt.charOrCode===dojo.keys.TAB){dojo.stopEvent(evt);var _ab=this.getTopPopup();if(_ab&&_ab.onCancel){_ab.onCancel();}}}}));if(_a4.onCancel){_aa.push(dojo.connect(_a4,"onCancel",_a2.onCancel));}_aa.push(dojo.connect(_a4,_a4.onExecute?"onExecute":"onChange",this,function(){var _ac=this.getTopPopup();if(_ac&&_ac.onExecute){_ac.onExecute();}}));_a3.push({wrapper:_a7,iframe:_a8,widget:_a4,parent:_a2.parent,onExecute:_a2.onExecute,onCancel:_a2.onCancel,onClose:_a2.onClose,handlers:_aa});if(_a4.onOpen){_a4.onOpen(_a9);}return _a9;},close:function(_ad){var _ae=this._stack;while(dojo.some(_ae,function(_af){return _af.widget==_ad;})){var top=_ae.pop(),_b0=top.wrapper,_b1=top.iframe,_b2=top.widget,_b3=top.onClose;if(_b2.onClose){_b2.onClose();}dojo.forEach(top.handlers,dojo.disconnect);if(_b2&&_b2.domNode){this.moveOffScreen(_b2.domNode);}else{dojo.destroy(_b0);}if(_b3){_b3();}}}};dijit._frames=new function(){var _b4=[];this.pop=function(){var _b5;if(_b4.length){_b5=_b4.pop();_b5.style.display="";}else{if(dojo.isIE){var _b6=dojo.config["dojoBlankHtmlUrl"]||(dojo.moduleUrl("dojo","resources/blank.html")+"")||"javascript:\"\"";var _b7="<iframe src='"+_b6+"'"+" style='position: absolute; left: 0px; top: 0px;"+"z-index: -1; filter:Alpha(Opacity=\"0\");'>";_b5=dojo.doc.createElement(_b7);}else{_b5=dojo.create("iframe");_b5.src="javascript:\"\"";_b5.className="dijitBackgroundIframe";dojo.style(_b5,"opacity",0.1);}_b5.tabIndex=-1;dijit.setWaiRole(_b5,"presentation");}return _b5;};this.push=function(_b8){_b8.style.display="none";_b4.push(_b8);};}();dijit.BackgroundIframe=function(_b9){if(!_b9.id){throw new Error("no id");}if(dojo.isIE||dojo.isMoz){var _ba=dijit._frames.pop();_b9.appendChild(_ba);if(dojo.isIE<7){this.resize(_b9);this._conn=dojo.connect(_b9,"onresize",this,function(){this.resize(_b9);});}else{dojo.style(_ba,{width:"100%",height:"100%"});}this.iframe=_ba;}};dojo.extend(dijit.BackgroundIframe,{resize:function(_bb){if(this.iframe&&dojo.isIE<7){dojo.style(this.iframe,{width:_bb.offsetWidth+"px",height:_bb.offsetHeight+"px"});}},destroy:function(){if(this._conn){dojo.disconnect(this._conn);this._conn=null;}if(this.iframe){dijit._frames.push(this.iframe);delete this.iframe;}}});}if(!dojo._hasResource["dijit._base.scroll"]){dojo._hasResource["dijit._base.scroll"]=true;dojo.provide("dijit._base.scroll");dijit.scrollIntoView=function(_bc,pos){dojo.window.scrollIntoView(_bc,pos);};}if(!dojo._hasResource["dojo.uacss"]){dojo._hasResource["dojo.uacss"]=true;dojo.provide("dojo.uacss");(function(){var d=dojo,_bd=d.doc.documentElement,ie=d.isIE,_be=d.isOpera,maj=Math.floor,ff=d.isFF,_bf=d.boxModel.replace(/-/,""),_c0={dj_ie:ie,dj_ie6:maj(ie)==6,dj_ie7:maj(ie)==7,dj_ie8:maj(ie)==8,dj_quirks:d.isQuirks,dj_iequirks:ie&&d.isQuirks,dj_opera:_be,dj_khtml:d.isKhtml,dj_webkit:d.isWebKit,dj_safari:d.isSafari,dj_chrome:d.isChrome,dj_gecko:d.isMozilla,dj_ff3:maj(ff)==3};_c0["dj_"+_bf]=true;var _c1="";for(var clz in _c0){if(_c0[clz]){_c1+=clz+" ";}}_bd.className=d.trim(_bd.className+" "+_c1);dojo._loaders.unshift(function(){if(!dojo._isBodyLtr()){var _c2="dj_rtl dijitRtl "+_c1.replace(/ /g,"-rtl ");_bd.className=d.trim(_bd.className+" "+_c2);}});})();}if(!dojo._hasResource["dijit._base.sniff"]){dojo._hasResource["dijit._base.sniff"]=true;dojo.provide("dijit._base.sniff");}if(!dojo._hasResource["dijit._base.typematic"]){dojo._hasResource["dijit._base.typematic"]=true;dojo.provide("dijit._base.typematic");dijit.typematic={_fireEventAndReload:function(){this._timer=null;this._callback(++this._count,this._node,this._evt);this._currentTimeout=Math.max(this._currentTimeout<0?this._initialDelay:(this._subsequentDelay>1?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay)),this._minDelay);this._timer=setTimeout(dojo.hitch(this,"_fireEventAndReload"),this._currentTimeout);},trigger:function(evt,_c3,_c4,_c5,obj,_c6,_c7,_c8){if(obj!=this._obj){this.stop();this._initialDelay=_c7||500;this._subsequentDelay=_c6||0.9;this._minDelay=_c8||10;this._obj=obj;this._evt=evt;this._node=_c4;this._currentTimeout=-1;this._count=-1;this._callback=dojo.hitch(_c3,_c5);this._fireEventAndReload();this._evt=dojo.mixin({faux:true},evt);}},stop:function(){if(this._timer){clearTimeout(this._timer);this._timer=null;}if(this._obj){this._callback(-1,this._node,this._evt);this._obj=null;}},addKeyListener:function(_c9,_ca,_cb,_cc,_cd,_ce,_cf){if(_ca.keyCode){_ca.charOrCode=_ca.keyCode;dojo.deprecated("keyCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0");}else{if(_ca.charCode){_ca.charOrCode=String.fromCharCode(_ca.charCode);dojo.deprecated("charCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0");}}return [dojo.connect(_c9,"onkeypress",this,function(evt){if(evt.charOrCode==_ca.charOrCode&&(_ca.ctrlKey===undefined||_ca.ctrlKey==evt.ctrlKey)&&(_ca.altKey===undefined||_ca.altKey==evt.altKey)&&(_ca.metaKey===undefined||_ca.metaKey==(evt.metaKey||false))&&(_ca.shiftKey===undefined||_ca.shiftKey==evt.shiftKey)){dojo.stopEvent(evt);dijit.typematic.trigger(evt,_cb,_c9,_cc,_ca,_cd,_ce,_cf);}else{if(dijit.typematic._obj==_ca){dijit.typematic.stop();}}}),dojo.connect(_c9,"onkeyup",this,function(evt){if(dijit.typematic._obj==_ca){dijit.typematic.stop();}})];},addMouseListener:function(_d0,_d1,_d2,_d3,_d4,_d5){var dc=dojo.connect;return [dc(_d0,"mousedown",this,function(evt){dojo.stopEvent(evt);dijit.typematic.trigger(evt,_d1,_d0,_d2,_d0,_d3,_d4,_d5);}),dc(_d0,"mouseup",this,function(evt){dojo.stopEvent(evt);dijit.typematic.stop();}),dc(_d0,"mouseout",this,function(evt){dojo.stopEvent(evt);dijit.typematic.stop();}),dc(_d0,"mousemove",this,function(evt){evt.preventDefault();}),dc(_d0,"dblclick",this,function(evt){dojo.stopEvent(evt);if(dojo.isIE){dijit.typematic.trigger(evt,_d1,_d0,_d2,_d0,_d3,_d4,_d5);setTimeout(dojo.hitch(this,dijit.typematic.stop),50);}})];},addListener:function(_d6,_d7,_d8,_d9,_da,_db,_dc,_dd){return this.addKeyListener(_d7,_d8,_d9,_da,_db,_dc,_dd).concat(this.addMouseListener(_d6,_d9,_da,_db,_dc,_dd));}};}if(!dojo._hasResource["dijit._base.wai"]){dojo._hasResource["dijit._base.wai"]=true;dojo.provide("dijit._base.wai");dijit.wai={onload:function(){var div=dojo.create("div",{id:"a11yTestNode",style:{cssText:"border: 1px solid;"+"border-color:red green;"+"position: absolute;"+"height: 5px;"+"top: -999px;"+"background-image:none;"}},dojo.body());var cs=dojo.getComputedStyle(div);if(cs){var _de=cs.backgroundImage;var _df=(cs.borderTopColor==cs.borderRightColor)||(_de!=null&&(_de=="none"||_de=="url(invalid-url:)"));dojo[_df?"addClass":"removeClass"](dojo.body(),"dijit_a11y");if(dojo.isIE){div.outerHTML="";}else{dojo.body().removeChild(div);}}}};if(dojo.isIE||dojo.isMoz){dojo._loaders.unshift(dijit.wai.onload);}dojo.mixin(dijit,{_XhtmlRoles:/banner|contentinfo|definition|main|navigation|search|note|secondary|seealso/,hasWaiRole:function(_e0,_e1){var _e2=this.getWaiRole(_e0);return _e1?(_e2.indexOf(_e1)>-1):(_e2.length>0);},getWaiRole:function(_e3){return dojo.trim((dojo.attr(_e3,"role")||"").replace(this._XhtmlRoles,"").replace("wairole:",""));},setWaiRole:function(_e4,_e5){var _e6=dojo.attr(_e4,"role")||"";if(!this._XhtmlRoles.test(_e6)){dojo.attr(_e4,"role",_e5);}else{if((" "+_e6+" ").indexOf(" "+_e5+" ")<0){var _e7=dojo.trim(_e6.replace(this._XhtmlRoles,""));var _e8=dojo.trim(_e6.replace(_e7,""));dojo.attr(_e4,"role",_e8+(_e8?" ":"")+_e5);}}},removeWaiRole:function(_e9,_ea){var _eb=dojo.attr(_e9,"role");if(!_eb){return;}if(_ea){var t=dojo.trim((" "+_eb+" ").replace(" "+_ea+" "," "));dojo.attr(_e9,"role",t);}else{_e9.removeAttribute("role");}},hasWaiState:function(_ec,_ed){return _ec.hasAttribute?_ec.hasAttribute("aria-"+_ed):!!_ec.getAttribute("aria-"+_ed);},getWaiState:function(_ee,_ef){return _ee.getAttribute("aria-"+_ef)||"";},setWaiState:function(_f0,_f1,_f2){_f0.setAttribute("aria-"+_f1,_f2);},removeWaiState:function(_f3,_f4){_f3.removeAttribute("aria-"+_f4);}});}if(!dojo._hasResource["dijit._base"]){dojo._hasResource["dijit._base"]=true;dojo.provide("dijit._base");}if(!dojo._hasResource["dijit._Widget"]){dojo._hasResource["dijit._Widget"]=true;dojo.provide("dijit._Widget");dojo.require("dijit._base");dojo.connect(dojo,"_connect",function(_f5,_f6){if(_f5&&dojo.isFunction(_f5._onConnect)){_f5._onConnect(_f6);}});dijit._connectOnUseEventHandler=function(_f7){};dijit._lastKeyDownNode=null;if(dojo.isIE){(function(){var _f8=function(evt){dijit._lastKeyDownNode=evt.srcElement;};dojo.doc.attachEvent("onkeydown",_f8);dojo.addOnWindowUnload(function(){dojo.doc.detachEvent("onkeydown",_f8);});})();}else{dojo.doc.addEventListener("keydown",function(evt){dijit._lastKeyDownNode=evt.target;},true);}(function(){var _f9={},_fa=function(_fb){var dc=_fb.declaredClass;if(!_f9[dc]){var r=[],_fc,_fd=_fb.constructor.prototype;for(var _fe in _fd){if(dojo.isFunction(_fd[_fe])&&(_fc=_fe.match(/^_set([a-zA-Z]*)Attr$/))&&_fc[1]){r.push(_fc[1].charAt(0).toLowerCase()+_fc[1].substr(1));}}_f9[dc]=r;}return _f9[dc]||[];};dojo.declare("dijit._Widget",null,{id:"",lang:"",dir:"","class":"",style:"",title:"",tooltip:"",baseClass:"",srcNodeRef:null,domNode:null,containerNode:null,attributeMap:{id:"",dir:"",lang:"","class":"",style:"",title:""},_deferredConnects:{onClick:"",onDblClick:"",onKeyDown:"",onKeyPress:"",onKeyUp:"",onMouseMove:"",onMouseDown:"",onMouseOut:"",onMouseOver:"",onMouseLeave:"",onMouseEnter:"",onMouseUp:""},onClick:dijit._connectOnUseEventHandler,onDblClick:dijit._connectOnUseEventHandler,onKeyDown:dijit._connectOnUseEventHandler,onKeyPress:dijit._connectOnUseEventHandler,onKeyUp:dijit._connectOnUseEventHandler,onMouseDown:dijit._connectOnUseEventHandler,onMouseMove:dijit._connectOnUseEventHandler,onMouseOut:dijit._connectOnUseEventHandler,onMouseOver:dijit._connectOnUseEventHandler,onMouseLeave:dijit._connectOnUseEventHandler,onMouseEnter:dijit._connectOnUseEventHandler,onMouseUp:dijit._connectOnUseEventHandler,_blankGif:null,postscript:function(_ff,_100){this.create(_ff,_100);},create:function(_101,_102){this.srcNodeRef=dojo.byId(_102);this._connects=[];this._subscribes=[];this._deferredConnects=dojo.clone(this._deferredConnects);for(var attr in this.attributeMap){delete this._deferredConnects[attr];}for(attr in this._deferredConnects){if(this[attr]!==dijit._connectOnUseEventHandler){delete this._deferredConnects[attr];}}if(this.srcNodeRef&&(typeof this.srcNodeRef.id=="string")){this.id=this.srcNodeRef.id;}if(_101){this.params=_101;dojo.mixin(this,_101);}this.postMixInProperties();if(!this.id){this.id=dijit.getUniqueId(this.declaredClass.replace(/\./g,"_"));}dijit.registry.add(this);this.buildRendering();if(this.domNode){this._applyAttributes();var _103=this.srcNodeRef;if(_103&&_103.parentNode){_103.parentNode.replaceChild(this.domNode,_103);}for(attr in this.params){this._onConnect(attr);}}if(this.domNode){this.domNode.setAttribute("widgetId",this.id);}this.postCreate();if(this.srcNodeRef&&!this.srcNodeRef.parentNode){delete this.srcNodeRef;}this._created=true;},_applyAttributes:function(){var _104=function(attr,_105){if((_105.params&&attr in _105.params)||_105[attr]){_105.set(attr,_105[attr]);}};for(var attr in this.attributeMap){_104(attr,this);}dojo.forEach(_fa(this),function(a){if(!(a in this.attributeMap)){_104(a,this);}},this);},postMixInProperties:function(){},buildRendering:function(){this.domNode=this.srcNodeRef||dojo.create("div");},postCreate:function(){if(this.baseClass){var _106=this.baseClass.split(" ");if(!this.isLeftToRight()){_106=_106.concat(dojo.map(_106,function(name){return name+"Rtl";}));}dojo.addClass(this.domNode,_106);}},startup:function(){this._started=true;},destroyRecursive:function(_107){this._beingDestroyed=true;this.destroyDescendants(_107);this.destroy(_107);},destroy:function(_108){this._beingDestroyed=true;this.uninitialize();var d=dojo,dfe=d.forEach,dun=d.unsubscribe;dfe(this._connects,function(_109){dfe(_109,d.disconnect);});dfe(this._subscribes,function(_10a){dun(_10a);});dfe(this._supportingWidgets||[],function(w){if(w.destroyRecursive){w.destroyRecursive();}else{if(w.destroy){w.destroy();}}});this.destroyRendering(_108);dijit.registry.remove(this.id);this._destroyed=true;},destroyRendering:function(_10b){if(this.bgIframe){this.bgIframe.destroy(_10b);delete this.bgIframe;}if(this.domNode){if(_10b){dojo.removeAttr(this.domNode,"widgetId");}else{dojo.destroy(this.domNode);}delete this.domNode;}if(this.srcNodeRef){if(!_10b){dojo.destroy(this.srcNodeRef);}delete this.srcNodeRef;}},destroyDescendants:function(_10c){dojo.forEach(this.getChildren(),function(_10d){if(_10d.destroyRecursive){_10d.destroyRecursive(_10c);}});},uninitialize:function(){return false;},onFocus:function(){},onBlur:function(){},_onFocus:function(e){this.onFocus();},_onBlur:function(){this.onBlur();},_onConnect:function(_10e){if(_10e in this._deferredConnects){var _10f=this[this._deferredConnects[_10e]||"domNode"];this.connect(_10f,_10e.toLowerCase(),_10e);delete this._deferredConnects[_10e];}},_setClassAttr:function(_110){var _111=this[this.attributeMap["class"]||"domNode"];dojo.removeClass(_111,this["class"]);this["class"]=_110;dojo.addClass(_111,_110);},_setStyleAttr:function(_112){var _113=this[this.attributeMap.style||"domNode"];if(dojo.isObject(_112)){dojo.style(_113,_112);}else{if(_113.style.cssText){_113.style.cssText+="; "+_112;}else{_113.style.cssText=_112;}}this.style=_112;},setAttribute:function(attr,_114){dojo.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.","","2.0");this.set(attr,_114);},_attrToDom:function(attr,_115){var _116=this.attributeMap[attr];dojo.forEach(dojo.isArray(_116)?_116:[_116],function(_117){var _118=this[_117.node||_117||"domNode"];var type=_117.type||"attribute";switch(type){case "attribute":if(dojo.isFunction(_115)){_115=dojo.hitch(this,_115);}var _119=_117.attribute?_117.attribute:(/^on[A-Z][a-zA-Z]*$/.test(attr)?attr.toLowerCase():attr);dojo.attr(_118,_119,_115);break;case "innerText":_118.innerHTML="";_118.appendChild(dojo.doc.createTextNode(_115));break;case "innerHTML":_118.innerHTML=_115;break;case "class":dojo.removeClass(_118,this[attr]);dojo.addClass(_118,_115);break;}},this);this[attr]=_115;},attr:function(name,_11a){if(dojo.config.isDebug){var _11b=arguments.callee._ach||(arguments.callee._ach={}),_11c=(arguments.callee.caller||"unknown caller").toString();if(!_11b[_11c]){dojo.deprecated(this.declaredClass+"::attr() is deprecated. Use get() or set() instead, called from "+_11c,"","2.0");_11b[_11c]=true;}}var args=arguments.length;if(args>=2||typeof name==="object"){return this.set.apply(this,arguments);}else{return this.get(name);}},get:function(name){var _11d=this._getAttrNames(name);return this[_11d.g]?this[_11d.g]():this[name];},set:function(name,_11e){if(typeof name==="object"){for(var x in name){this.set(x,name[x]);}return this;}var _11f=this._getAttrNames(name);if(this[_11f.s]){var _120=this[_11f.s].apply(this,Array.prototype.slice.call(arguments,1));}else{if(name in this.attributeMap){this._attrToDom(name,_11e);}var _121=this[name];this[name]=_11e;}return _120||this;},_attrPairNames:{},_getAttrNames:function(name){var apn=this._attrPairNames;if(apn[name]){return apn[name];}var uc=name.charAt(0).toUpperCase()+name.substr(1);return (apn[name]={n:name+"Node",s:"_set"+uc+"Attr",g:"_get"+uc+"Attr"});},toString:function(){return "[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]";},getDescendants:function(){return this.containerNode?dojo.query("[widgetId]",this.containerNode).map(dijit.byNode):[];},getChildren:function(){return this.containerNode?dijit.findWidgets(this.containerNode):[];},nodesWithKeyClick:["input","button"],connect:function(obj,_122,_123){var d=dojo,dc=d._connect,_124=[];if(_122=="ondijitclick"){if(dojo.indexOf(this.nodesWithKeyClick,obj.nodeName.toLowerCase())==-1){var m=d.hitch(this,_123);_124.push(dc(obj,"onkeydown",this,function(e){if((e.keyCode==d.keys.ENTER||e.keyCode==d.keys.SPACE)&&!e.ctrlKey&&!e.shiftKey&&!e.altKey&&!e.metaKey){dijit._lastKeyDownNode=e.target;e.preventDefault();}}),dc(obj,"onkeyup",this,function(e){if((e.keyCode==d.keys.ENTER||e.keyCode==d.keys.SPACE)&&e.target===dijit._lastKeyDownNode&&!e.ctrlKey&&!e.shiftKey&&!e.altKey&&!e.metaKey){dijit._lastKeyDownNode=null;return m(e);}}));}_122="onclick";}_124.push(dc(obj,_122,this,_123));this._connects.push(_124);return _124;},disconnect:function(_125){for(var i=0;i<this._connects.length;i++){if(this._connects[i]==_125){dojo.forEach(_125,dojo.disconnect);this._connects.splice(i,1);return;}}},subscribe:function(_126,_127){var d=dojo,_128=d.subscribe(_126,this,_127);this._subscribes.push(_128);return _128;},unsubscribe:function(_129){for(var i=0;i<this._subscribes.length;i++){if(this._subscribes[i]==_129){dojo.unsubscribe(_129);this._subscribes.splice(i,1);return;}}},isLeftToRight:function(){return this.dir?(this.dir=="ltr"):dojo._isBodyLtr();},isFocusable:function(){return this.focus&&(dojo.style(this.domNode,"display")!="none");},placeAt:function(_12a,_12b){if(_12a.declaredClass&&_12a.addChild){_12a.addChild(this,_12b);}else{dojo.place(this.domNode,_12a,_12b);}return this;},_onShow:function(){this.onShow();},onShow:function(){},onHide:function(){},onClose:function(){return true;}});})();}if(!dojo._hasResource["dojo.string"]){dojo._hasResource["dojo.string"]=true;dojo.provide("dojo.string");dojo.string.rep=function(str,num){if(num<=0||!str){return "";}var buf=[];for(;;){if(num&1){buf.push(str);}if(!(num>>=1)){break;}str+=str;}return buf.join("");};dojo.string.pad=function(text,size,ch,end){if(!ch){ch="0";}var out=String(text),pad=dojo.string.rep(ch,Math.ceil((size-out.length)/ch.length));return end?out+pad:pad+out;};dojo.string.substitute=function(_12c,map,_12d,_12e){_12e=_12e||dojo.global;_12d=_12d?dojo.hitch(_12e,_12d):function(v){return v;};return _12c.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(_12f,key,_130){var _131=dojo.getObject(key,false,map);if(_130){_131=dojo.getObject(_130,false,_12e).call(_12e,_131,key);}return _12d(_131,key).toString();});};dojo.string.trim=String.prototype.trim?dojo.trim:function(str){str=str.replace(/^\s+/,"");for(var i=str.length-1;i>=0;i--){if(/\S/.test(str.charAt(i))){str=str.substring(0,i+1);break;}}return str;};}if(!dojo._hasResource["dojo.date.stamp"]){dojo._hasResource["dojo.date.stamp"]=true;dojo.provide("dojo.date.stamp");dojo.date.stamp.fromISOString=function(_132,_133){if(!dojo.date.stamp._isoRegExp){dojo.date.stamp._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/;}var _134=dojo.date.stamp._isoRegExp.exec(_132),_135=null;if(_134){_134.shift();if(_134[1]){_134[1]--;}if(_134[6]){_134[6]*=1000;}if(_133){_133=new Date(_133);dojo.forEach(dojo.map(["FullYear","Month","Date","Hours","Minutes","Seconds","Milliseconds"],function(prop){return _133["get"+prop]();}),function(_136,_137){_134[_137]=_134[_137]||_136;});}_135=new Date(_134[0]||1970,_134[1]||0,_134[2]||1,_134[3]||0,_134[4]||0,_134[5]||0,_134[6]||0);if(_134[0]<100){_135.setFullYear(_134[0]||1970);}var _138=0,_139=_134[7]&&_134[7].charAt(0);if(_139!="Z"){_138=((_134[8]||0)*60)+(Number(_134[9])||0);if(_139!="-"){_138*=-1;}}if(_139){_138-=_135.getTimezoneOffset();}if(_138){_135.setTime(_135.getTime()+_138*60000);}}return _135;};dojo.date.stamp.toISOString=function(_13a,_13b){var _13c=function(n){return (n<10)?"0"+n:n;};_13b=_13b||{};var _13d=[],_13e=_13b.zulu?"getUTC":"get",date="";if(_13b.selector!="time"){var year=_13a[_13e+"FullYear"]();date=["0000".substr((year+"").length)+year,_13c(_13a[_13e+"Month"]()+1),_13c(_13a[_13e+"Date"]())].join("-");}_13d.push(date);if(_13b.selector!="date"){var time=[_13c(_13a[_13e+"Hours"]()),_13c(_13a[_13e+"Minutes"]()),_13c(_13a[_13e+"Seconds"]())].join(":");var _13f=_13a[_13e+"Milliseconds"]();if(_13b.milliseconds){time+="."+(_13f<100?"0":"")+_13c(_13f);}if(_13b.zulu){time+="Z";}else{if(_13b.selector!="time"){var _140=_13a.getTimezoneOffset();var _141=Math.abs(_140);time+=(_140>0?"-":"+")+_13c(Math.floor(_141/60))+":"+_13c(_141%60);}}_13d.push(time);}return _13d.join("T");};}if(!dojo._hasResource["dojo.parser"]){dojo._hasResource["dojo.parser"]=true;dojo.provide("dojo.parser");new Date("X");dojo.parser=new function(){var d=dojo;this._attrName=d._scopeName+"Type";this._query="["+this._attrName+"]";function _142(_143){if(d.isString(_143)){return "string";}if(typeof _143=="number"){return "number";}if(typeof _143=="boolean"){return "boolean";}if(d.isFunction(_143)){return "function";}if(d.isArray(_143)){return "array";}if(_143 instanceof Date){return "date";}if(_143 instanceof d._Url){return "url";}return "object";};function _144(_145,type){switch(type){case "string":return _145;case "number":return _145.length?Number(_145):NaN;case "boolean":return typeof _145=="boolean"?_145:!(_145.toLowerCase()=="false");case "function":if(d.isFunction(_145)){_145=_145.toString();_145=d.trim(_145.substring(_145.indexOf("{")+1,_145.length-1));}try{if(_145===""||_145.search(/[^\w\.]+/i)!=-1){return new Function(_145);}else{return d.getObject(_145,false)||new Function(_145);}}catch(e){return new Function();}case "array":return _145?_145.split(/\s*,\s*/):[];case "date":switch(_145){case "":return new Date("");case "now":return new Date();default:return d.date.stamp.fromISOString(_145);}case "url":return d.baseUrl+_145;default:return d.fromJson(_145);}};var _146={};dojo.connect(dojo,"extend",function(){_146={};});function _147(_148){if(!_146[_148]){var cls=d.getObject(_148);if(!cls){return null;}var _149=cls.prototype;var _14a={},_14b={};for(var name in _149){if(name.charAt(0)=="_"){continue;}if(name in _14b){continue;}var _14c=_149[name];_14a[name]=_142(_14c);}_146[_148]={cls:cls,params:_14a};}return _146[_148];};this._functionFromScript=function(_14d){var _14e="";var _14f="";var _150=_14d.getAttribute("args");if(_150){d.forEach(_150.split(/\s*,\s*/),function(part,idx){_14e+="var "+part+" = arguments["+idx+"]; ";});}var _151=_14d.getAttribute("with");if(_151&&_151.length){d.forEach(_151.split(/\s*,\s*/),function(part){_14e+="with("+part+"){";_14f+="}";});}return new Function(_14e+_14d.innerHTML+_14f);};this.instantiate=function(_152,_153,args){var _154=[],dp=dojo.parser;_153=_153||{};args=args||{};d.forEach(_152,function(obj){if(!obj){return;}var node,type,_155,_156,_157;if(obj.node){node=obj.node;type=obj.type;_155=obj.clsInfo||(type&&_147(type));_156=_155&&_155.cls;_157=obj.scripts;}else{node=obj;type=dp._attrName in _153?_153[dp._attrName]:node.getAttribute(dp._attrName);_155=type&&_147(type);_156=_155&&_155.cls;_157=(_156&&(_156._noScript||_156.prototype._noScript)?[]:d.query("> script[type^='dojo/']",node));}if(!_155){throw new Error("Could not load class '"+type);}var _158={},_159=node.attributes;if(args.defaults){dojo.mixin(_158,args.defaults);}if(obj.inherited){dojo.mixin(_158,obj.inherited);}for(var name in _155.params){var item=name in _153?{value:_153[name],specified:true}:_159.getNamedItem(name);if(!item||(!item.specified&&(!dojo.isIE||name.toLowerCase()!="value"))){continue;}var _15a=item.value;switch(name){case "class":_15a="className" in _153?_153.className:node.className;break;case "style":_15a="style" in _153?_153.style:(node.style&&node.style.cssText);}var _15b=_155.params[name];if(typeof _15a=="string"){_158[name]=_144(_15a,_15b);}else{_158[name]=_15a;}}var _15c=[],_15d=[];d.forEach(_157,function(_15e){node.removeChild(_15e);var _15f=_15e.getAttribute("event"),type=_15e.getAttribute("type"),nf=d.parser._functionFromScript(_15e);if(_15f){if(type=="dojo/connect"){_15c.push({event:_15f,func:nf});}else{_158[_15f]=nf;}}else{_15d.push(nf);}});var _160=_156.markupFactory||_156.prototype&&_156.prototype.markupFactory;var _161=_160?_160(_158,node,_156):new _156(_158,node);_154.push(_161);var _162=node.getAttribute("jsId");if(_162){d.setObject(_162,_161);}d.forEach(_15c,function(_163){d.connect(_161,_163.event,null,_163.func);});d.forEach(_15d,function(func){func.call(_161);});});if(!_153._started){d.forEach(_154,function(_164){if(!args.noStart&&_164&&_164.startup&&!_164._started&&(!_164.getParent||!_164.getParent())){_164.startup();}});}return _154;};this.parse=function(_165,args){var root;if(!args&&_165&&_165.rootNode){args=_165;root=args.rootNode;}else{root=_165;}var _166=this._attrName;function scan(_167,list){var _168=dojo.clone(_167.inherited);dojo.forEach(["dir","lang"],function(name){var val=_167.node.getAttribute(name);if(val){_168[name]=val;}});var _169=_167.scripts;var _16a=!_167.clsInfo||!_167.clsInfo.cls.prototype.stopParser;for(var _16b=_167.node.firstChild;_16b;_16b=_16b.nextSibling){if(_16b.nodeType==1){var type=_16a&&_16b.getAttribute(_166);if(type){var _16c={"type":type,clsInfo:_147(type),node:_16b,scripts:[],inherited:_168};list.push(_16c);scan(_16c,list);}else{if(_169&&_16b.nodeName.toLowerCase()=="script"){type=_16b.getAttribute("type");if(type&&/^dojo\//i.test(type)){_169.push(_16b);}}else{if(_16a){scan({node:_16b,inherited:_168},list);}}}}}};var list=[];scan({node:root?dojo.byId(root):dojo.body(),inherited:(args&&args.inherited)||{dir:dojo._isBodyLtr()?"ltr":"rtl"}},list);return this.instantiate(list,null,args);};}();(function(){var _16d=function(){if(dojo.config.parseOnLoad){dojo.parser.parse();}};if(dojo.exists("dijit.wai.onload")&&(dijit.wai.onload===dojo._loaders[0])){dojo._loaders.splice(1,0,_16d);}else{dojo._loaders.unshift(_16d);}})();}if(!dojo._hasResource["dojo.cache"]){dojo._hasResource["dojo.cache"]=true;dojo.provide("dojo.cache");(function(){var _16e={};dojo.cache=function(_16f,url,_170){if(typeof _16f=="string"){var _171=dojo.moduleUrl(_16f,url);}else{_171=_16f;_170=url;}var key=_171.toString();var val=_170;if(_170!=undefined&&!dojo.isString(_170)){val=("value" in _170?_170.value:undefined);}var _172=_170&&_170.sanitize?true:false;if(typeof val=="string"){val=_16e[key]=_172?dojo.cache._sanitize(val):val;}else{if(val===null){delete _16e[key];}else{if(!(key in _16e)){val=dojo._getText(key);_16e[key]=_172?dojo.cache._sanitize(val):val;}val=_16e[key];}}return val;};dojo.cache._sanitize=function(val){if(val){val=val.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var _173=val.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(_173){val=_173[1];}}else{val="";}return val;};})();}if(!dojo._hasResource["dijit._Templated"]){dojo._hasResource["dijit._Templated"]=true;dojo.provide("dijit._Templated");dojo.declare("dijit._Templated",null,{templateString:null,templatePath:null,widgetsInTemplate:false,_skipNodeCache:false,_earlyTemplatedStartup:false,constructor:function(){this._attachPoints=[];},_stringRepl:function(tmpl){var _174=this.declaredClass,_175=this;return dojo.string.substitute(tmpl,this,function(_176,key){if(key.charAt(0)=="!"){_176=dojo.getObject(key.substr(1),false,_175);}if(typeof _176=="undefined"){throw new Error(_174+" template:"+key);}if(_176==null){return "";}return key.charAt(0)=="!"?_176:_176.toString().replace(/"/g,"&quot;");},this);},buildRendering:function(){var _177=dijit._Templated.getCachedTemplate(this.templatePath,this.templateString,this._skipNodeCache);var node;if(dojo.isString(_177)){node=dojo._toDom(this._stringRepl(_177));if(node.nodeType!=1){throw new Error("Invalid template: "+_177);}}else{node=_177.cloneNode(true);}this.domNode=node;this._attachTemplateNodes(node);if(this.widgetsInTemplate){var _178=dojo.parser,qry,attr;if(_178._query!="[dojoType]"){qry=_178._query;attr=_178._attrName;_178._query="[dojoType]";_178._attrName="dojoType";}var cw=(this._startupWidgets=dojo.parser.parse(node,{noStart:!this._earlyTemplatedStartup,inherited:{dir:this.dir,lang:this.lang}}));if(qry){_178._query=qry;_178._attrName=attr;}this._supportingWidgets=dijit.findWidgets(node);this._attachTemplateNodes(cw,function(n,p){return n[p];});}this._fillContent(this.srcNodeRef);},_fillContent:function(_179){var dest=this.containerNode;if(_179&&dest){while(_179.hasChildNodes()){dest.appendChild(_179.firstChild);}}},_attachTemplateNodes:function(_17a,_17b){_17b=_17b||function(n,p){return n.getAttribute(p);};var _17c=dojo.isArray(_17a)?_17a:(_17a.all||_17a.getElementsByTagName("*"));var x=dojo.isArray(_17a)?0:-1;for(;x<_17c.length;x++){var _17d=(x==-1)?_17a:_17c[x];if(this.widgetsInTemplate&&_17b(_17d,"dojoType")){continue;}var _17e=_17b(_17d,"dojoAttachPoint");if(_17e){var _17f,_180=_17e.split(/\s*,\s*/);while((_17f=_180.shift())){if(dojo.isArray(this[_17f])){this[_17f].push(_17d);}else{this[_17f]=_17d;}this._attachPoints.push(_17f);}}var _181=_17b(_17d,"dojoAttachEvent");if(_181){var _182,_183=_181.split(/\s*,\s*/);var trim=dojo.trim;while((_182=_183.shift())){if(_182){var _184=null;if(_182.indexOf(":")!=-1){var _185=_182.split(":");_182=trim(_185[0]);_184=trim(_185[1]);}else{_182=trim(_182);}if(!_184){_184=_182;}this.connect(_17d,_182,_184);}}}var role=_17b(_17d,"waiRole");if(role){dijit.setWaiRole(_17d,role);}var _186=_17b(_17d,"waiState");if(_186){dojo.forEach(_186.split(/\s*,\s*/),function(_187){if(_187.indexOf("-")!=-1){var pair=_187.split("-");dijit.setWaiState(_17d,pair[0],pair[1]);}});}}},startup:function(){dojo.forEach(this._startupWidgets,function(w){if(w&&!w._started&&w.startup){w.startup();}});this.inherited(arguments);},destroyRendering:function(){dojo.forEach(this._attachPoints,function(_188){delete this[_188];},this);this._attachPoints=[];this.inherited(arguments);}});dijit._Templated._templateCache={};dijit._Templated.getCachedTemplate=function(_189,_18a,_18b){var _18c=dijit._Templated._templateCache;var key=_18a||_189;var _18d=_18c[key];if(_18d){try{if(!_18d.ownerDocument||_18d.ownerDocument==dojo.doc){return _18d;}}catch(e){}dojo.destroy(_18d);}if(!_18a){_18a=dojo.cache(_189,{sanitize:true});}_18a=dojo.string.trim(_18a);if(_18b||_18a.match(/\$\{([^\}]+)\}/g)){return (_18c[key]=_18a);}else{var node=dojo._toDom(_18a);if(node.nodeType!=1){throw new Error("Invalid template: "+_18a);}return (_18c[key]=node);}};if(dojo.isIE){dojo.addOnWindowUnload(function(){var _18e=dijit._Templated._templateCache;for(var key in _18e){var _18f=_18e[key];if(typeof _18f=="object"){dojo.destroy(_18f);}delete _18e[key];}});}dojo.extend(dijit._Widget,{dojoAttachEvent:"",dojoAttachPoint:"",waiRole:"",waiState:""});}if(!dojo._hasResource["dijit._Container"]){dojo._hasResource["dijit._Container"]=true;dojo.provide("dijit._Container");dojo.declare("dijit._Container",null,{isContainer:true,buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode;}},addChild:function(_190,_191){var _192=this.containerNode;if(_191&&typeof _191=="number"){var _193=this.getChildren();if(_193&&_193.length>=_191){_192=_193[_191-1].domNode;_191="after";}}dojo.place(_190.domNode,_192,_191);if(this._started&&!_190._started){_190.startup();}},removeChild:function(_194){if(typeof _194=="number"&&_194>0){_194=this.getChildren()[_194];}if(_194){var node=_194.domNode;if(node&&node.parentNode){node.parentNode.removeChild(node);}}},hasChildren:function(){return this.getChildren().length>0;},destroyDescendants:function(_195){dojo.forEach(this.getChildren(),function(_196){_196.destroyRecursive(_195);});},_getSiblingOfChild:function(_197,dir){var node=_197.domNode,_198=(dir>0?"nextSibling":"previousSibling");do{node=node[_198];}while(node&&(node.nodeType!=1||!dijit.byNode(node)));return node&&dijit.byNode(node);},getIndexOfChild:function(_199){return dojo.indexOf(this.getChildren(),_199);},startup:function(){if(this._started){return;}dojo.forEach(this.getChildren(),function(_19a){_19a.startup();});this.inherited(arguments);}});}if(!dojo._hasResource["dijit._Contained"]){dojo._hasResource["dijit._Contained"]=true;dojo.provide("dijit._Contained");dojo.declare("dijit._Contained",null,{getParent:function(){var _19b=dijit.getEnclosingWidget(this.domNode.parentNode);return _19b&&_19b.isContainer?_19b:null;},_getSibling:function(_19c){var node=this.domNode;do{node=node[_19c+"Sibling"];}while(node&&node.nodeType!=1);return node&&dijit.byNode(node);},getPreviousSibling:function(){return this._getSibling("previous");},getNextSibling:function(){return this._getSibling("next");},getIndexInParent:function(){var p=this.getParent();if(!p||!p.getIndexOfChild){return -1;}return p.getIndexOfChild(this);}});}if(!dojo._hasResource["dojox.widget.FisheyeList"]){dojo._hasResource["dojox.widget.FisheyeList"]=true;dojo.provide("dojox.widget.FisheyeList");dojo.declare("dojox.widget.FisheyeList",[dijit._Widget,dijit._Templated,dijit._Container],{constructor:function(){this.pos={"x":-1,"y":-1};this.timerScale=1;},EDGE:{CENTER:0,LEFT:1,RIGHT:2,TOP:3,BOTTOM:4},templateString:"<div class=\"dojoxFisheyeListBar\" dojoAttachPoint=\"containerNode\"></div>",snarfChildDomOutput:true,itemWidth:40,itemHeight:40,itemMaxWidth:150,itemMaxHeight:150,imgNode:null,orientation:"horizontal",isFixed:false,conservativeTrigger:false,effectUnits:2,itemPadding:10,attachEdge:"center",labelEdge:"bottom",postCreate:function(){var e=this.EDGE;dojo.setSelectable(this.domNode,false);var _19d=this.isHorizontal=(this.orientation=="horizontal");this.selectedNode=-1;this.isOver=false;this.hitX1=-1;this.hitY1=-1;this.hitX2=-1;this.hitY2=-1;this.anchorEdge=this._toEdge(this.attachEdge,e.CENTER);this.labelEdge=this._toEdge(this.labelEdge,e.TOP);if(this.labelEdge==e.CENTER){this.labelEdge=e.TOP;}if(_19d){if(this.anchorEdge==e.LEFT){this.anchorEdge=e.CENTER;}if(this.anchorEdge==e.RIGHT){this.anchorEdge=e.CENTER;}if(this.labelEdge==e.LEFT){this.labelEdge=e.TOP;}if(this.labelEdge==e.RIGHT){this.labelEdge=e.TOP;}}else{if(this.anchorEdge==e.TOP){this.anchorEdge=e.CENTER;}if(this.anchorEdge==e.BOTTOM){this.anchorEdge=e.CENTER;}if(this.labelEdge==e.TOP){this.labelEdge=e.LEFT;}if(this.labelEdge==e.BOTTOM){this.labelEdge=e.LEFT;}}var _19e=this.effectUnits;this.proximityLeft=this.itemWidth*(_19e-0.5);this.proximityRight=this.itemWidth*(_19e-0.5);this.proximityTop=this.itemHeight*(_19e-0.5);this.proximityBottom=this.itemHeight*(_19e-0.5);if(this.anchorEdge==e.LEFT){this.proximityLeft=0;}if(this.anchorEdge==e.RIGHT){this.proximityRight=0;}if(this.anchorEdge==e.TOP){this.proximityTop=0;}if(this.anchorEdge==e.BOTTOM){this.proximityBottom=0;}if(this.anchorEdge==e.CENTER){this.proximityLeft/=2;this.proximityRight/=2;this.proximityTop/=2;this.proximityBottom/=2;}},startup:function(){this.children=this.getChildren();this._initializePositioning();if(!this.conservativeTrigger){this._onMouseMoveHandle=dojo.connect(document.documentElement,"onmousemove",this,"_onMouseMove");}if(this.isFixed){this._onScrollHandle=dojo.connect(document,"onscroll",this,"_onScroll");}this._onMouseOutHandle=dojo.connect(document.documentElement,"onmouseout",this,"_onBodyOut");this._addChildHandle=dojo.connect(this,"addChild",this,"_initializePositioning");this._onResizeHandle=dojo.connect(window,"onresize",this,"_initializePositioning");},_initializePositioning:function(){this.itemCount=this.children.length;this.barWidth=(this.isHorizontal?this.itemCount:1)*this.itemWidth;this.barHeight=(this.isHorizontal?1:this.itemCount)*this.itemHeight;this.totalWidth=this.proximityLeft+this.proximityRight+this.barWidth;this.totalHeight=this.proximityTop+this.proximityBottom+this.barHeight;for(var i=0;i<this.children.length;i++){this.children[i].posX=this.itemWidth*(this.isHorizontal?i:0);this.children[i].posY=this.itemHeight*(this.isHorizontal?0:i);this.children[i].cenX=this.children[i].posX+(this.itemWidth/2);this.children[i].cenY=this.children[i].posY+(this.itemHeight/2);var isz=this.isHorizontal?this.itemWidth:this.itemHeight;var r=this.effectUnits*isz;var c=this.isHorizontal?this.children[i].cenX:this.children[i].cenY;var lhs=this.isHorizontal?this.proximityLeft:this.proximityTop;var rhs=this.isHorizontal?this.proximityRight:this.proximityBottom;var siz=this.isHorizontal?this.barWidth:this.barHeight;var _19f=r;var _1a0=r;if(_19f>c+lhs){_19f=c+lhs;}if(_1a0>(siz-c+rhs)){_1a0=siz-c+rhs;}this.children[i].effectRangeLeft=_19f/isz;this.children[i].effectRangeRght=_1a0/isz;}this.domNode.style.width=this.barWidth+"px";this.domNode.style.height=this.barHeight+"px";for(var i=0;i<this.children.length;i++){var itm=this.children[i];var elm=itm.domNode;elm.style.left=itm.posX+"px";elm.style.top=itm.posY+"px";elm.style.width=this.itemWidth+"px";elm.style.height=this.itemHeight+"px";itm.imgNode.style.left=this.itemPadding+"%";itm.imgNode.style.top=this.itemPadding+"%";itm.imgNode.style.width=(100-2*this.itemPadding)+"%";itm.imgNode.style.height=(100-2*this.itemPadding)+"%";}this._calcHitGrid();},_overElement:function(node,e){node=dojo.byId(node);var _1a1={x:e.pageX,y:e.pageY};var bb=dojo._getBorderBox(node);var _1a2=dojo.coords(node,true);var top=_1a2.y;var _1a3=top+bb.h;var left=_1a2.x;var _1a4=left+bb.w;return (_1a1.x>=left&&_1a1.x<=_1a4&&_1a1.y>=top&&_1a1.y<=_1a3);},_onBodyOut:function(e){if(this._overElement(dojo.body(),e)){return;}this._setDormant(e);},_setDormant:function(e){if(!this.isOver){return;}this.isOver=false;if(this.conservativeTrigger){dojo.disconnect(this._onMouseMoveHandle);}this._onGridMouseMove(-1,-1);},_setActive:function(e){if(this.isOver){return;}this.isOver=true;if(this.conservativeTrigger){this._onMouseMoveHandle=dojo.connect(document.documentElement,"onmousemove",this,"_onMouseMove");this.timerScale=0;this._onMouseMove(e);this._expandSlowly();}},_onMouseMove:function(e){if((e.pageX>=this.hitX1)&&(e.pageX<=this.hitX2)&&(e.pageY>=this.hitY1)&&(e.pageY<=this.hitY2)){if(!this.isOver){this._setActive(e);}this._onGridMouseMove(e.pageX-this.hitX1,e.pageY-this.hitY1);}else{if(this.isOver){this._setDormant(e);}}},_onScroll:function(){this._calcHitGrid();},onResized:function(){this._calcHitGrid();},_onGridMouseMove:function(x,y){this.pos={x:x,y:y};this._paint();},_paint:function(){var x=this.pos.x;var y=this.pos.y;if(this.itemCount<=0){return;}var pos=this.isHorizontal?x:y;var prx=this.isHorizontal?this.proximityLeft:this.proximityTop;var siz=this.isHorizontal?this.itemWidth:this.itemHeight;var sim=this.isHorizontal?(1-this.timerScale)*this.itemWidth+this.timerScale*this.itemMaxWidth:(1-this.timerScale)*this.itemHeight+this.timerScale*this.itemMaxHeight;var cen=((pos-prx)/siz)-0.5;var _1a5=(sim/siz)-0.5;if(_1a5>this.effectUnits){_1a5=this.effectUnits;}var _1a6=0;if(this.anchorEdge==this.EDGE.BOTTOM){var cen2=(y-this.proximityTop)/this.itemHeight;_1a6=(cen2>0.5)?1:y/(this.proximityTop+(this.itemHeight/2));}if(this.anchorEdge==this.EDGE.TOP){var cen2=(y-this.proximityTop)/this.itemHeight;_1a6=(cen2<0.5)?1:(this.totalHeight-y)/(this.proximityBottom+(this.itemHeight/2));}if(this.anchorEdge==this.EDGE.RIGHT){var cen2=(x-this.proximityLeft)/this.itemWidth;_1a6=(cen2>0.5)?1:x/(this.proximityLeft+(this.itemWidth/2));}if(this.anchorEdge==this.EDGE.LEFT){var cen2=(x-this.proximityLeft)/this.itemWidth;_1a6=(cen2<0.5)?1:(this.totalWidth-x)/(this.proximityRight+(this.itemWidth/2));}if(this.anchorEdge==this.EDGE.CENTER){if(this.isHorizontal){_1a6=y/(this.totalHeight);}else{_1a6=x/(this.totalWidth);}if(_1a6>0.5){_1a6=1-_1a6;}_1a6*=2;}for(var i=0;i<this.itemCount;i++){var _1a7=this._weighAt(cen,i);if(_1a7<0){_1a7=0;}this._setItemSize(i,_1a7*_1a6);}var _1a8=Math.round(cen);var _1a9=0;if(cen<0){_1a8=0;}else{if(cen>this.itemCount-1){_1a8=this.itemCount-1;}else{_1a9=(cen-_1a8)*((this.isHorizontal?this.itemWidth:this.itemHeight)-this.children[_1a8].sizeMain);}}this._positionElementsFrom(_1a8,_1a9);},_weighAt:function(cen,i){var dist=Math.abs(cen-i);var _1aa=((cen-i)>0)?this.children[i].effectRangeRght:this.children[i].effectRangeLeft;return (dist>_1aa)?0:(1-dist/_1aa);},_setItemSize:function(p,_1ab){_1ab*=this.timerScale;var w=Math.round(this.itemWidth+((this.itemMaxWidth-this.itemWidth)*_1ab));var h=Math.round(this.itemHeight+((this.itemMaxHeight-this.itemHeight)*_1ab));if(this.isHorizontal){this.children[p].sizeW=w;this.children[p].sizeH=h;this.children[p].sizeMain=w;this.children[p].sizeOff=h;var y=0;if(this.anchorEdge==this.EDGE.TOP){y=(this.children[p].cenY-(this.itemHeight/2));}else{if(this.anchorEdge==this.EDGE.BOTTOM){y=(this.children[p].cenY-(h-(this.itemHeight/2)));}else{y=(this.children[p].cenY-(h/2));}}this.children[p].usualX=Math.round(this.children[p].cenX-(w/2));this.children[p].domNode.style.top=y+"px";this.children[p].domNode.style.left=this.children[p].usualX+"px";}else{this.children[p].sizeW=w;this.children[p].sizeH=h;this.children[p].sizeOff=w;this.children[p].sizeMain=h;var x=0;if(this.anchorEdge==this.EDGE.LEFT){x=this.children[p].cenX-(this.itemWidth/2);}else{if(this.anchorEdge==this.EDGE.RIGHT){x=this.children[p].cenX-(w-(this.itemWidth/2));}else{x=this.children[p].cenX-(w/2);}}this.children[p].domNode.style.left=x+"px";this.children[p].usualY=Math.round(this.children[p].cenY-(h/2));this.children[p].domNode.style.top=this.children[p].usualY+"px";}this.children[p].domNode.style.width=w+"px";this.children[p].domNode.style.height=h+"px";if(this.children[p].svgNode){this.children[p].svgNode.setSize(w,h);}},_positionElementsFrom:function(p,_1ac){var pos=0;if(this.isHorizontal){pos=Math.round(this.children[p].usualX+_1ac);this.children[p].domNode.style.left=pos+"px";}else{pos=Math.round(this.children[p].usualY+_1ac);this.children[p].domNode.style.top=pos+"px";}this._positionLabel(this.children[p]);var bpos=pos;for(var i=p-1;i>=0;i--){bpos-=this.children[i].sizeMain;if(this.isHorizontal){this.children[i].domNode.style.left=bpos+"px";}else{this.children[i].domNode.style.top=bpos+"px";}this._positionLabel(this.children[i]);}var apos=pos;for(var i=p+1;i<this.itemCount;i++){apos+=this.children[i-1].sizeMain;if(this.isHorizontal){this.children[i].domNode.style.left=apos+"px";}else{this.children[i].domNode.style.top=apos+"px";}this._positionLabel(this.children[i]);}},_positionLabel:function(itm){var x=0;var y=0;var mb=dojo.marginBox(itm.lblNode);if(this.labelEdge==this.EDGE.TOP){x=Math.round((itm.sizeW/2)-(mb.w/2));y=-mb.h;}if(this.labelEdge==this.EDGE.BOTTOM){x=Math.round((itm.sizeW/2)-(mb.w/2));y=itm.sizeH;}if(this.labelEdge==this.EDGE.LEFT){x=-mb.w;y=Math.round((itm.sizeH/2)-(mb.h/2));}if(this.labelEdge==this.EDGE.RIGHT){x=itm.sizeW;y=Math.round((itm.sizeH/2)-(mb.h/2));}itm.lblNode.style.left=x+"px";itm.lblNode.style.top=y+"px";},_calcHitGrid:function(){var pos=dojo.coords(this.domNode,true);this.hitX1=pos.x-this.proximityLeft;this.hitY1=pos.y-this.proximityTop;this.hitX2=this.hitX1+this.totalWidth;this.hitY2=this.hitY1+this.totalHeight;},_toEdge:function(inp,def){return this.EDGE[inp.toUpperCase()]||def;},_expandSlowly:function(){if(!this.isOver){return;}this.timerScale+=0.2;this._paint();if(this.timerScale<1){setTimeout(dojo.hitch(this,"_expandSlowly"),10);}},destroyRecursive:function(){dojo.disconnect(this._onMouseOutHandle);dojo.disconnect(this._onMouseMoveHandle);dojo.disconnect(this._addChildHandle);if(this.isFixed){dojo.disconnect(this._onScrollHandle);}dojo.disconnect(this._onResizeHandle);this.inherited("destroyRecursive",arguments);}});dojo.declare("dojox.widget.FisheyeListItem",[dijit._Widget,dijit._Templated,dijit._Contained],{iconSrc:"",label:"",id:"",templateString:"<div class=\"dojoxFisheyeListItem\">"+"  <img class=\"dojoxFisheyeListItemImage\" dojoAttachPoint=\"imgNode\" dojoAttachEvent=\"onmouseover:onMouseOver,onmouseout:onMouseOut,onclick:onClick\">"+"  <div class=\"dojoxFisheyeListItemLabel\" dojoAttachPoint=\"lblNode\"></div>"+"</div>",_isNode:function(wh){if(typeof Element=="function"){try{return wh instanceof Element;}catch(e){}}else{return wh&&!isNaN(wh.nodeType);}},_hasParent:function(node){return Boolean(node&&node.parentNode&&this._isNode(node.parentNode));},postCreate:function(){if((this.iconSrc.toLowerCase().substring(this.iconSrc.length-4)==".png")&&dojo.isIE<7){if(this._hasParent(this.imgNode)&&this.id!=""){var _1ad=this.imgNode.parentNode;_1ad.setAttribute("id",this.id);}this.imgNode.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+this.iconSrc+"', sizingMethod='scale')";this.imgNode.src=this._blankGif.toString();}else{if(this._hasParent(this.imgNode)&&this.id!=""){var _1ad=this.imgNode.parentNode;_1ad.setAttribute("id",this.id);}this.imgNode.src=this.iconSrc;}if(this.lblNode){this.lblNode.appendChild(document.createTextNode(this.label));}dojo.setSelectable(this.domNode,false);this.startup();},startup:function(){this.parent=this.getParent();},onMouseOver:function(e){if(!this.parent.isOver){this.parent._setActive(e);}if(this.label!=""){dojo.addClass(this.lblNode,"dojoxFishSelected");this.parent._positionLabel(this);}},onMouseOut:function(e){dojo.removeClass(this.lblNode,"dojoxFishSelected");},onClick:function(e){}});}
